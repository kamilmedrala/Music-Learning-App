(window.webpackJsonp=window.webpackJsonp||[]).push([[5,2],{410:function(e,t,r){"use strict";r.r(t);var n={name:"HeaderTitle",props:{title:{type:String,default:"Title",required:!0},subtext:{type:String}}},o=r(39),component=Object(o.a)(n,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"max-w-[400px]"},[t("h1",{staticClass:"text-black"},[e._v(e._s(e.title))]),e._v(" "),e.subtext?t("p",{staticClass:"text-green-3000 mb-5"},[e._v("\n    "+e._s(e.subtext)+"\n  ")]):e._e()])}),[],!1,null,null,null);t.default=component.exports},412:function(e,t,r){var content=r(415);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(112).default)("cbdc9ad2",content,!0,{sourceMap:!1})},414:function(e,t,r){"use strict";r(412)},415:function(e,t,r){var n=r(111)((function(i){return i[1]}));n.push([e.i,".page-leave-active .note[data-v-4ea55294]{transition-delay:0ms!important;transition-duration:.15s}.page-enter .note[data-v-4ea55294],.page-leave-to .note[data-v-4ea55294]{--tw-translate-x:-100%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));opacity:0}.note-track[data-v-4ea55294]{background:repeating-linear-gradient(90deg,transparent,transparent 199px,rgba(0,0,0,.2) 0,rgba(0,0,0,.2) 200px)}",""]),n.locals={},e.exports=n},420:function(e,t,r){"use strict";r.r(t);r(51),r(77),r(78);var n={data:function(){var e;return{currentFreq:null===(e=this.$Analyser)||void 0===e?void 0:e.loudestFreq,noteScale:["C2","C#2","D2","D#2","E2","F2","F#2","G2","G#2","A2","A#2","H2","C3","C#3","D3","D#3","E3","F3","F#3","G3","G#3","A3","A#3","H3","C4","C#4","D4","D#4","E4","F4","F#4","G4","G#4","A4","A#4","H4","C5","C#5","D5","D#5","E5","F5","F#5","G5","G#5","A5","A#5","H5"]}},watch:{currentKey:function(e){this.isRecording&&this.$Recorder.addNote(e)}},computed:{currentKey:function(){var e;return(null===(e=this.currentFreq)||void 0===e?void 0:e.vol)>200?this.currentFreq.keyId:-1},isRecording:function(){var e;return null===(e=this.$Recorder)||void 0===e?void 0:e.isRunning},currTime:function(){var e;return this.$Recorder&&this.$refs.pianoRoll&&(this.$refs.pianoRoll.scrollLeft=this.$Recorder.currentTime-this.$refs.pianoRoll.clientWidth/2),null===(e=this.$Recorder)||void 0===e?void 0:e.currentTime},recordedNotes:function(){var e;return this.$Recorder?null===(e=this.$Recorder)||void 0===e?void 0:e.notes:[]}},mounted:function(){this.$store.commit("setCurrentMode","recorder")},methods:{toggleRecord:function(){var e,t,r,n;null!==(e=this.$Recorder)&&void 0!==e&&e.isRunning?null===(t=this.$Recorder)||void 0===t||t.stop():(null===(r=this.$Recorder)||void 0===r||r.start(),null===(n=this.$Recorder)||void 0===n||n.clearNotes())},clearNotes:function(){var e;null===(e=this.$Recorder)||void 0===e||e.clearNotes()},downloadMidi:function(){var e;null===(e=this.$Recorder)||void 0===e||e.generateMidi()}}},o=(r(414),r(39)),component=Object(o.a)(n,(function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"relative h-screen flex flex-col"},[t("div",{staticClass:"relative z-10 bg-gradient-to-b from-green-1000 via-green-1000/90"},[t("nuxt-link",{staticClass:"group block w-full pt-10 transition duration-200",attrs:{to:"/start"}},[t("span",{staticClass:"font-main text-xl md:text-2xl transition duration-300 hover:text-green-3000"},[e._v("\n          ã€ˆ Back\n        ")])]),e._v(" "),t("div",{staticClass:"flex justify-between mb-5 transition duration-200"},[t("div",{staticClass:"capitalize transition duration-200"},[t("HeaderTitle",{attrs:{title:"Nagrywnik"}})],1),e._v(" "),t("div",{staticClass:"flex items-center"},[t("button",{directives:[{name:"show",rawName:"v-show",value:!e.isRecording&&e.recordedNotes.length>0,expression:"!isRecording && recordedNotes.length>0"}],staticClass:"flex justify-center items-center group bg-green-1000 rounded-full px-3 py-2 pb-1 mr-5 border-2 border-green-2000 hover:border-green-3000 transition duration-200 overflow-hidden",on:{click:function(t){return e.downloadMidi()}}},[e._v("\n          DOWNLOAD\n        ")]),e._v(" "),t("button",{directives:[{name:"show",rawName:"v-show",value:!e.isRecording&&e.recordedNotes.length>0,expression:"!isRecording && recordedNotes.length>0"}],staticClass:"flex justify-center items-center group bg-green-1000 rounded-full px-3 py-2 pb-1 mr-5 border-2 border-green-2000 hover:border-green-3000 transition duration-200 overflow-hidden",on:{click:function(t){return e.clearNotes()}}},[e._v("\n          CLEAR\n        ")]),e._v(" "),t("button",{staticClass:"h-14 w-14 flex flex-col justify-center items-center group bg-green-1000 rounded-full border-2 border-red-300 hover:border-red-500 transition duration-200 overflow-hidden",on:{click:function(t){return e.toggleRecord()}}},[t("span",{staticClass:"h-6 w-6 group-hover:bg-red-700 transition-all duration-300",class:[e.isRecording?"bg-red-600 rounded-sm animate-pulse":"bg-red-400 rounded-3xl full"]})])])])],1),e._v(" "),t("div",{ref:"pianoRoll",staticClass:"overflow-y-auto"},[t("div",{staticClass:"relative z-20 basis-[50px] xl:basis-[70px] shrink-0 grow-0 flex flex-col"},[t("div",{staticClass:"left-[76px] absolute z-30 w-px h-full bg-brown-2000",style:{transform:"translateX(".concat(e.currTime,"px)")}}),e._v(" "),e._l(e.noteScale.slice().reverse(),(function(r,n){return t("div",{key:n,staticClass:"relative flex w-max border-0 border-t border-black/5",class:[r.includes("#")?"bg-green-3000/10":"bg-green-3000/5"]},[t("div",{staticClass:"sticky left-0 z-40 flex w-min shrink-0"},[t("span",{staticClass:"flex items-center h-4 xl:h-5 w-7 text-[10px] bg-green-1000"},[e._v("\n                    "+e._s(r)+"\n                ")]),e._v(" "),t("div",{staticClass:"note h-4 xl:h-5 w-12 border-y-0 border-x border-black/20 before:absolute before:inset-0 before:z-20 before:transition before:duration-100 translate-y-0 transition duration-500",class:[r.includes("#")?"bg-black/80":"bg-white",{"before:bg-green-3000/50":e.currentKey==Math.abs(n-47)+24}],style:{"transition-delay":"".concat(20*n,"ms")}})]),e._v(" "),t("div",{staticClass:"relative w-[3200px] note-track shrink-0"},[e._l(e.recordedNotes,(function(r,o){return[r.keyId==Math.abs(n-47)+24?t("div",{key:o,staticClass:"absolute top-0 h-4 xl:h-5 bg-green-3000",style:{width:0==r.duration?e.currTime-r.startTime+"px":r.duration+"px",left:r.startTime+"px"}}):e._e()]}))],2)])}))],2)])])])}),[],!1,null,"4ea55294",null);t.default=component.exports;installComponents(component,{HeaderTitle:r(410).default})}}]);